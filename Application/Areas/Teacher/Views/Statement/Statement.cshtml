@model List<StudentsEstimates>
<form asp-area="Teacher" asp-controller="Statement" asp-action="SaveStatement">
    <table class="default">
        @for (int i = 0; i < Model.Count; i++)
        {
            if (i == 0 || Model[i - 1].Subject.Name != Model[i].Subject.Name)
            {
                <tr>
                    <th align="center">
                        @Model[i].Subject.Name
                    </th>
                </tr>
            }
            @Html.HiddenFor(x => Model[i].Id)
            @Html.HiddenFor(x => Model[i].StudentId)
            @Html.HiddenFor(x => Model[i].SubjectId)
            <tr>
                <td>
                    @Model[i].Student.StudentUser.Name
                </td>
                <td>
                    @Model[i].Student.StudentUser.Surname
                </td>
                <td>
                    @Model[i].Student.Group.Name
                </td>
                <td>
                    @Html.TextBoxFor(x => Model[i].Estimate)
                </td>
            </tr>
        }
    </table>
    <button type="submit">Зберегти</button>
</form>